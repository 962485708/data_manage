(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bea4bc7"],{"065c":function(e,t,a){},"491e":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tab-pane"},[i("el-tabs",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"el-tabs",attrs:{type:"border-card"}},[i("el-tab-pane",{attrs:{label:"数据存储位置"}},[i("el-form",{ref:"fileForm",attrs:{model:e.fileForm,"label-width":"100px"}},e._l(e.fileForm.formItems,(function(t,a){return i("el-form-item",{key:t.key,attrs:{label:"数据来源"+(a+1)}},[i("el-upload",{staticClass:"file-upload",attrs:{action:"https://jsonplaceholder.typicode.com/posts/",accept:".json","on-success":e.handleSuccess,"on-remove":e.handleRemove,limit:1}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.values[a],callback:function(t){e.$set(e.values,a,t)},expression:"values[index]"}},e._l(e.options,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),i("el-button",{on:{click:function(i){return i.preventDefault(),e.removeFile(t,a)}}},[e._v("删除")])],1)})),1),i("div",{ref:"addfile",staticClass:"add-file",on:{click:function(t){return e.addFile()}}},[i("img",{attrs:{src:a("90f1"),alt:"增加数据来源"}}),i("span",[e._v("增加数据来源")])])],1)],1),i("div",{staticClass:"submit"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")])],1)],1)},l=[],s=(a("c740"),a("c975"),a("fb6a"),a("a434"),a("d3b7"),a("ddb0"),{name:"inteTable",data:function(){return{options:[{value:"销售部",label:"销售部"},{value:"开发部",label:"开发部"},{value:"运营部",label:"运营部"},{value:"财务部",label:"财务部"},{value:"人力资源部",label:"人力资源部"},{value:"市场营销部",label:"市场营销部"},{value:"保卫部",label:"保卫部"}],values:["","","","","","",""],fileList:[],fileForm:{formItems:[{value:""}]},fullscreenLoading:!1}},methods:{submitForm:function(){var e=this;if(!this.fileForm.formItems)return console.log("error submit!!"),!1;(function(){var t=e.fileList.length,a=e.fileList,i=[],l=e.values;if(t>0){for(var s=function(e){var t=new FileReader;t.readAsDataURL(a[e].raw),t.onload=function(t){i.push({file:t.target.result.slice(29),department:l[e]})}},n=0;n<t;n++)s(n);console.log(l),console.log(i),e.$message.success("正在集成，请稍后…")}else e.$message.warning("文件不能为空")})()},removeFile:function(e,t){this.fileList.pop(t);var a=this.fileForm.formItems.indexOf(e);-1!==a&&this.fileForm.formItems.splice(a,1),this.fileForm.formItems.length<7&&(this.$refs.addfile.style.display="flex"),this.values[t]="",this.options[t].disabled=!1},addFile:function(){this.fileForm.formItems.push({value:"",key:Date.now()}),7===this.fileForm.formItems.length&&(this.$refs.addfile.style.display="none");var e=this.options,t=this.values,a=this.values.length;while(a--&&!t[a]);var i=e.findIndex((function(e){return e.value===t[a]}));console.log(i),i>-1&&(e[i].disabled=!0)},handleRemove:function(e,t){this.fileList=t},handleSuccess:function(e,t,a){this.fileList.push(t)}}}),n=s,r=(a("794e"),a("2877")),o=Object(r["a"])(n,i,l,!1,null,"37548fe6",null);t["a"]=o.exports},6349:function(e,t,a){"use strict";var i=a("aeb0"),l=a.n(i);l.a},"794e":function(e,t,a){"use strict";var i=a("065c"),l=a.n(i);l.a},"90f1":function(e,t,a){e.exports=a.p+"assets/img/plus.fd955a26.png"},aeb0:function(e,t,a){},b515:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"integration"},[e._m(0),a("div",{staticClass:"inte-wrapper"},[e._m(1),a("inte-table",{staticClass:"inte-form"})],1),a("div")])},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inte-title"},[a("span",[e._v("请上传需要集成的JSON文件")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inte-wrapper-text"},[a("span",[e._v("*")]),a("span",[e._v("数据来源")])])}],s=a("491e"),n={name:"integration",components:{inteTable:s["a"]}},r=n,o=(a("6349"),a("2877")),c=Object(o["a"])(r,i,l,!1,null,"539e08fc",null);t["default"]=c.exports},c740:function(e,t,a){"use strict";var i=a("23e7"),l=a("b727").findIndex,s=a("44d2"),n=a("ae40"),r="findIndex",o=!0,c=n(r);r in[]&&Array(1)[r]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!c},{findIndex:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),s(r)},ddb0:function(e,t,a){var i=a("da84"),l=a("fdbc"),s=a("e260"),n=a("9112"),r=a("b622"),o=r("iterator"),c=r("toStringTag"),u=s.values;for(var f in l){var d=i[f],v=d&&d.prototype;if(v){if(v[o]!==u)try{n(v,o,u)}catch(p){v[o]=u}if(v[c]||n(v,c,f),l[f])for(var m in s)if(v[m]!==s[m])try{n(v,m,s[m])}catch(p){v[m]=s[m]}}}}}]);
//# sourceMappingURL=chunk-3bea4bc7.3c476023.js.map