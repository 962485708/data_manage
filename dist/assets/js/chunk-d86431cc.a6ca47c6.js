(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d86431cc"],{6349:function(e,t,l){"use strict";var i=l("aeb0"),a=l.n(i);a.a},"90f1":function(e,t,l){e.exports=l.p+"assets/img/plus.fd955a26.png"},aeb0:function(e,t,l){},b515:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"integration"},[e._m(0),l("div",{staticClass:"inte-wrapper"},[e._m(1),l("inte-table",{staticClass:"inte-form"})],1),l("div")])},a=[function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"inte-title"},[l("span",[e._v("请上传需要集成的JSON文件")])])},function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"inte-wrapper-text"},[l("span",[e._v("*")]),l("span",[e._v("数据来源")])])}],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tab-pane"},[i("el-tabs",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"el-tabs",attrs:{type:"border-card"}},[i("el-tab-pane",{attrs:{label:"数据存储位置"}},[i("el-form",{ref:"fileForm",attrs:{model:e.fileForm,"label-width":"100px"}},e._l(e.fileForm.formItems,(function(t,l){return i("el-form-item",{key:t.key,attrs:{label:"数据来源"+(l+1)}},[i("el-upload",{staticClass:"file-upload",attrs:{action:"https://jsonplaceholder.typicode.com/posts/",accept:".json","on-success":e.handleSuccess,"on-remove":e.handleRemove,limit:1}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.values[l],callback:function(t){e.$set(e.values,l,t)},expression:"values[index]"}},e._l(e.options,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),i("el-button",{on:{click:function(i){return i.preventDefault(),e.removeFile(t,l)}}},[e._v("删除")])],1)})),1),i("div",{ref:"addfile",staticClass:"add-file",on:{click:function(t){return e.addFile()}}},[i("img",{attrs:{src:l("90f1"),alt:"增加数据来源"}}),i("span",[e._v("增加数据来源")])])],1)],1),i("div",{staticClass:"submit"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")])],1)],1)},n=[],r=(l("c740"),l("c975"),l("fb6a"),l("a434"),l("d3b7"),l("ddb0"),{name:"inteTable",data:function(){return{options:[{value:"销售部",label:"销售部"},{value:"开发部",label:"开发部"},{value:"运营部",label:"运营部"},{value:"财务部",label:"财务部"},{value:"人力资源部",label:"人力资源部"},{value:"市场营销部",label:"市场营销部"},{value:"保卫部",label:"保卫部"}],values:["","","","","","",""],fileList:[],fileForm:{formItems:[{value:""}]},fullscreenLoading:!1}},methods:{submitForm:function(){var e=this;if(!this.fileForm.formItems)return console.log("error submit!!"),!1;(function(){var t=e.fileList.length,l=e.fileList,i=[],a=e.values;if(t>0){for(var s=function(e){var t=new FileReader;t.readAsDataURL(l[e].raw),t.onload=function(t){i.push({file:t.target.result.slice(29),department:a[e]})}},n=0;n<t;n++)s(n);console.log(a),console.log(i),e.$message.success("正在集成，请稍后…")}else e.$message.warning("文件不能为空")})()},removeFile:function(e,t){this.fileList.pop(t);var l=this.fileForm.formItems.indexOf(e);-1!==l&&this.fileForm.formItems.splice(l,1),this.fileForm.formItems.length<7&&(this.$refs.addfile.style.display="flex");var i=this.values.indexOf(this.values[t]);-1!==i&&this.values.splice(i,1),this.options[t].disabled=!1},addFile:function(){this.fileForm.formItems.push({value:"",key:Date.now()}),7===this.fileForm.formItems.length&&(this.$refs.addfile.style.display="none");var e=this.options,t=this.values,l=this.values.length;while(l--&&!t[l]);var i=e.findIndex((function(e){return e.value===t[l]}));console.log(i),i>-1&&(e[i].disabled=!0)},handleRemove:function(e,t){this.fileList=t},handleSuccess:function(e,t,l){this.fileList.push(t)}}}),o=r,c=(l("e232"),l("2877")),u=Object(c["a"])(o,s,n,!1,null,"5c3b2361",null),f=u.exports,d={name:"integration",components:{inteTable:f}},v=d,m=(l("6349"),Object(c["a"])(v,i,a,!1,null,"539e08fc",null));t["default"]=m.exports},c740:function(e,t,l){"use strict";var i=l("23e7"),a=l("b727").findIndex,s=l("44d2"),n=l("ae40"),r="findIndex",o=!0,c=n(r);r in[]&&Array(1)[r]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!c},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s(r)},d958:function(e,t,l){},ddb0:function(e,t,l){var i=l("da84"),a=l("fdbc"),s=l("e260"),n=l("9112"),r=l("b622"),o=r("iterator"),c=r("toStringTag"),u=s.values;for(var f in a){var d=i[f],v=d&&d.prototype;if(v){if(v[o]!==u)try{n(v,o,u)}catch(p){v[o]=u}if(v[c]||n(v,c,f),a[f])for(var m in s)if(v[m]!==s[m])try{n(v,m,s[m])}catch(p){v[m]=s[m]}}}},e232:function(e,t,l){"use strict";var i=l("d958"),a=l.n(i);a.a}}]);
//# sourceMappingURL=chunk-d86431cc.a6ca47c6.js.map